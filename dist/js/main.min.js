for(var btnNavOpen=document.querySelector(".navMobile__button"),nav=document.querySelector(".nav"),navElements=document.querySelectorAll(".nav__menu-element"),btnNavClose=document.querySelector(".navMobile__button__close"),projectsBox=document.querySelector(".projects__box"),reviewsMenuArrows=document.querySelectorAll(".reviewsMenu__arrow"),reviewsBox=document.querySelector(".reviewsBox"),rewiewsMenuElementsBox=document.querySelector(".reviewsMenu__elements"),formBtn=document.querySelectorAll(".contact-form__button")[0],formInputs=document.querySelectorAll(".contact-form__input"),formAlerts=document.querySelectorAll(".contact-form__alert"),formAccept=document.querySelector(".contact-infoBox"),formAcceptClose=document.querySelector(".contact-info__close"),faqElements=document.querySelectorAll(".faq-element"),faqButtons=document.querySelectorAll(".faq-element-box"),sectionTitle=document.querySelectorAll(".section_title"),project={id:["0","1"],name:["Kamieniarstwo","Weterynaria"],img:["dist/img/page1.png","dist/img/page2.png"],alt:["kamieniarstwo Jacek Spychalski","gabinet weterynaryjny pionavet"],link:["https://kamieniarstwospychalski.pl/","https://pionavet.pl/"]},review={id:["0","1","3","4"],name:["Basia","Adam","Kasia","Olek"],text:["Super!","Polecam!","awkdnaokwnoawn fawfoiwajfawf awjfiaojwfoijwa  aiwjfioajwfoijawm","Woooooooooooooow ndwanawd iaiwjd w wwia"]},openNav=function(){nav.style.right=0},closeNav=function(){nav.style.right="-200px"},clickOutsideNav=(btnNavOpen.addEventListener("click",openNav),btnNavClose.addEventListener("click",closeNav),navElements.forEach(function(e){e.addEventListener("click",function(){window.innerWidth<=768&&setTimeout(function(){closeNav()},300)})}),function(e){e.target.classList.contains("nav__menu-element")||e.target.classList.contains("navMobile__button__close")||e.target.classList.contains("nav")||e.target.classList.contains("navMobile__button")||e.target.classList.contains("navMobile__button__close-element")||e.target.classList.contains("navMobile__button-element")||window.innerWidth<=768&&closeNav()}),createNewProject=function(e){var t=document.createElement("a"),n=(t.classList.add("project"),t.setAttribute("href",project.link[e]),t.setAttribute("target","_blank"),document.createElement("img")),s=(n.setAttribute("src",project.img[e]),n.setAttribute("alt",project.alt[e]),n.classList.add("project__img"),document.createElement("p")),e=(s.textContent=project.name[e],s.classList.add("project__title"),document.createElement("div")),i=(e.classList.add("project__btn"),document.createElement("i")),a=(i.classList.add("fa-solid"),i.classList.add("fa-arrow-right"),i.classList.add("project__btn-arrow"),document.createElement("div")),r=(a.classList.add("triangle__project-btn"),document.createElement("div"));r.classList.add("triangle__project-btn__2"),e.appendChild(i),e.appendChild(a),e.appendChild(r),t.appendChild(n),t.appendChild(s),t.appendChild(e),projectsBox.appendChild(t)},i=0;i<project.id.length;i++)createNewProject(i);for(var createNewReview=function(e){var t=document.createElement("article"),n=(t.classList.add("review"),document.createElement("div")),s=(n.classList.add("review__name-box"),document.createElement("p")),i=(s.classList.add("review__name"),s.textContent=review.name[e],document.createElement("div")),e=(i.classList.add("review__text"),i.textContent=review.text[e],document.createElement("div"));e.classList.add("reviewsMenu__element"),n.appendChild(s),t.appendChild(n),t.appendChild(i),reviewsBox.appendChild(t),rewiewsMenuElementsBox.appendChild(e)},reviewsMenu=function(e){var t=document.querySelectorAll(".reviewsMenu__element--active").length,n=document.querySelector(".review--active"),s=document.querySelector(".review--left"),i=document.querySelector(".review--right");if(n.classList.remove("review--active"),s.classList.remove("review--left"),i.classList.remove("review--right"),e.target.classList.contains("reviewsMenu__arrow"))0==Array.from(reviewsMenuArrows).indexOf(e.target)?(1==t?(reviewsMenuElements.forEach(function(e){e.classList.add("reviewsMenu__element--active")}),reviewsList[reviewsList.length-1].classList.add("review--active"),reviewsList[0].classList.add("review--right"),reviewsList[reviewsList.length-2]):(reviewsMenuElements[t-1].classList.remove("reviewsMenu__element--active"),reviewsList[t-2].classList.add("review--active"),reviewsList[t-1].classList.add("review--right"),2==t?reviewsList[reviewsList.length-1]:reviewsList[t-3])).classList.add("review--left"):(t==reviewsMenuElements.length?(reviewsMenuElements.forEach(function(e){e.classList.remove("reviewsMenu__element--active")}),reviewsMenuElements[0].classList.add("reviewsMenu__element--active"),reviewsList[0].classList.add("review--active"),reviewsList[reviewsList.length-1].classList.add("review--left"),reviewsList[1]):(reviewsMenuElements[t].classList.add("reviewsMenu__element--active"),reviewsList[t].classList.add("review--active"),reviewsList[t-1].classList.add("review--left"),t==reviewsMenuElements.length-1?reviewsList[0]:reviewsList[t+1])).classList.add("review--right");else{var a=Array.from(reviewsMenuElements).indexOf(e.target);if(t-1<a){for(var r=t;r<=a;r++)reviewsMenuElements[r].classList.add("reviewsMenu__element--active");reviewsList[a].classList.add("review--active"),reviewsList[a-1].classList.add("review--left"),(a==reviewsList.length-1?reviewsList[0]:reviewsList[a+1]).classList.add("review--right")}else if(a<t-1){for(var c=a+1;c<t;c++)reviewsMenuElements[c].classList.remove("reviewsMenu__element--active");reviewsList[a].classList.add("review--active"),reviewsList[a+1].classList.add("review--right"),(0==a?reviewsList[reviewsList.length-1]:reviewsList[a-1]).classList.add("review--left")}else n.classList.add("review--active"),s.classList.add("review--left"),i.classList.add("review--right")}},_i3=0;_i3<review.id.length;_i3++)createNewReview(_i3);var reviewsMenuElements=document.querySelectorAll(".reviewsMenu__element"),reviewsList=document.querySelectorAll(".review"),formCheck=(reviewsList[0].classList.add("review--active"),reviewsMenuElements[0].classList.add("reviewsMenu__element--active"),reviewsList[reviewsList.length-1].classList.add("review--left"),reviewsList[1].classList.add("review--right"),reviewsMenuArrows.forEach(function(e){e.addEventListener("click",reviewsMenu)}),reviewsMenuElements.forEach(function(e){e.addEventListener("click",reviewsMenu)}),function(e){var t=Array.from(formInputs).indexOf(e.target),n=e.target;e.target.addEventListener("keyup",function(){""==n.value?(formAlerts[t].textContent="Pole nie może być puste",n.classList.add("contact-form__input--error")):(formAlerts[t].textContent="",n.classList.remove("contact-form__input--error"),1==t&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.value)?n.classList.remove("contact-form__input--error"):(formAlerts[t].textContent="Wpisz poprawny adres email",n.classList.add("contact-form__input--error")))),""==formInputs[0].value||""==formInputs[1].value||formInputs[1].classList.contains("contact-form__input--error")?formBtn.disabled=!0:formBtn.disabled=!1})}),openFAQ=(formInputs.forEach(function(e){e.addEventListener("click",formCheck)}),function(e){btnNumber=Array.from(faqButtons).indexOf(e.target),faqElements[btnNumber].classList.contains("faq-element--active")?faqElements[btnNumber].classList.remove("faq-element--active"):(faqElements.forEach(function(e){e.classList.remove("faq-element--active")}),faqElements[btnNumber].classList.add("faq-element--active")),setTimeout(function(){faqElements[btnNumber].scrollIntoView({behavior:"smooth",block:"nearest"})},300)}),footerDate=(faqElements.forEach(function(e){e.addEventListener("click",openFAQ)}),function(){var e=document.querySelector(".footer__data"),t=(new Date).getFullYear();e.textContent=t}),navStart=(document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".contact-form__message");e&&(e.style.height="80px",e.style.height=e.scrollHeight+"px",e.addEventListener("input",function(){this.style.height="80px",this.style.height=this.scrollHeight+"px"},!1)),"sukces"==new URLSearchParams(window.location.search).get("status")&&(formAccept.style.display="block",document.documentElement.style.overflowY="hidden",e=window.scrollY,formAccept.style.top="".concat(e,"px"),formAcceptClose.addEventListener("click",function(){formAccept.style.display="none",document.documentElement.style.overflowY="auto"}),history.replaceState(null,"",window.location.pathname)),document.getElementById("header").style.marginTop="".concat(document.querySelector(".navBox").offsetHeight,"px")}),document.getElementById("skills").getBoundingClientRect().bottom),navAboutme=document.getElementById("aboutme").getBoundingClientRect().bottom,navProjects=document.getElementById("projects").getBoundingClientRect().bottom,navReviews=document.getElementById("reviews").getBoundingClientRect().bottom,navContact=document.getElementById("contact").getBoundingClientRect().bottom;document.addEventListener("scroll",function(){var e=window.scrollY,e=(window.scrollY+window.innerHeight+e)/2;e<navStart?(navElements[0].classList.add("nav__menu-element__active"),navElements[1].classList.remove("nav__menu-element__active")):navStart<e&&e<=navAboutme?(navElements[0].classList.remove("nav__menu-element__active"),navElements[1].classList.add("nav__menu-element__active"),navElements[2].classList.remove("nav__menu-element__active"),sectionTitle[0].classList.add("section_title--active")):navAboutme<e&&e<=navProjects?(navElements[1].classList.remove("nav__menu-element__active"),navElements[2].classList.add("nav__menu-element__active"),navElements[3].classList.remove("nav__menu-element__active"),sectionTitle[1].classList.add("section_title--active")):navProjects<e&&e<=navReviews?(navElements[2].classList.remove("nav__menu-element__active"),navElements[3].classList.add("nav__menu-element__active"),navElements[4].classList.remove("nav__menu-element__active"),sectionTitle[2].classList.add("section_title--active")):navReviews<e&&e<=navContact&&(navElements[3].classList.remove("nav__menu-element__active"),navElements[4].classList.add("nav__menu-element__active"),sectionTitle[3].classList.add("section_title--active"))}),footerDate(),window.addEventListener("click",clickOutsideNav);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnRuTmF2T3BlbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm5hdiIsImJ0bk5hdkNsb3NlIiwicmV2aWV3c01lbnVBcnJvd3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwicmV2aWV3c0JveCIsInJld2lld3NNZW51RWxlbWVudHNCb3giLCJmb3JtSW5wdXRzIiwiZm9ybUFsZXJ0cyIsImZvcm1BY2NlcHQiLCJmb3JtQWNjZXB0Q2xvc2UiLCJmYXFFbGVtZW50cyIsInNlY3Rpb25UaXRsZSIsImZhcUJ1dHRvbnMiLCJwcm9qZWN0IiwiYWx0IiwibGluayIsImltZyIsInJldmlldyIsImlkIiwibmFtZSIsInRleHQiLCJvcGVuTmF2IiwiY2xvc2VOYXYiLCJhZGRFdmVudExpc3RlbmVyIiwic3R5bGUiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwicmlnaHQiLCJjbGlja091dHNpZGVOYXYiLCJ0YXJnZXQiLCJjb250YWlucyIsIm5hdkVsZW1lbnRzIiwiZm9yRWFjaCIsImUiLCJzZXRUaW1lb3V0IiwibmV3QSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJzZXRBdHRyaWJ1dGUiLCJuZXdJbWciLCJuZXdUaXRsZSIsInRleHRDb250ZW50IiwibmV3QnRuX2VsZW1lbnQzIiwiYXBwZW5kQ2hpbGQiLCJuZXdCdG4iLCJuZXdCdG5fZWxlbWVudDEiLCJuZXdCdG5fZWxlbWVudDIiLCJwbiIsImNyZWF0ZU5ld1Byb2plY3QiLCJwcm9qZWN0c0JveCIsImFkZCIsImkiLCJuZXdBcnRpY2xlIiwiY3JlYXRlTmV3UmV2aWV3IiwibmV3TmFtZSIsIm5ld05hbWVCb3giLCJuZXdUZXh0IiwibmV3RWxlbWVudE1lbnUiLCJyZXZpZXdzTWVudSIsInJldmlld0FjdGl2ZSIsInJlbW92ZSIsImxlbmd0aCIsInJldmlld0xlZnQiLCJyZXZpZXdzTWVudUVsZW1lbnRzIiwicmV2aWV3c0xpc3QiLCJhY3RpdmVFbGVtZW50Tm93Iiwicm4iLCJyZXZpZXdSaWdodCIsInNlbGVjdGVkRWxlbWVudCIsIkFycmF5IiwiZm9ybUNoZWNrIiwiaW5wdXQiLCJpbmRleE9mIiwiaW5wdXRUYXJnZXQiLCJpbnB1dElkIiwiZW1haWxSZWdleCIsImZvcm1CdG4iLCJkaXNhYmxlZCIsImJ0bk51bWJlciIsInllYXIiLCJzY3JvbGxJbnRvVmlldyIsImdldEZ1bGxZZWFyIiwiZm9vdGVyIiwiZm9ybVRleHRhcmVhIiwidmFsdWUiLCJhdXRvUmVzaXplIiwiaGVpZ2h0IiwidXJsUGFyYW1zIiwic3RhdHVzIiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsUG9zaXRpb24iLCJzY3JvbGxZIiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsImdldEVsZW1lbnRCeUlkIiwibmF2Q29udGFjdCIsImJ0biIsInNjcm9sbE5vd01pZGRsZSIsImZvb3RlckRhdGUiLCJvcGVuRkFRIiwiRGF0ZSIsIm5hdlN0YXJ0Iiwic2Nyb2xsSGVpZ2h0IiwidGhpcyIsIlVSTFNlYXJjaFBhcmFtcyIsImxvY2F0aW9uIiwic2VhcmNoIiwiZ2V0IiwiZGlzcGxheSIsIm92ZXJmbG93WSIsInRvcCIsImNvbmNhdCIsInBhdGhuYW1lIiwibWFyZ2luVG9wIiwib2Zmc2V0SGVpZ2h0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYm90dG9tIiwibmF2QWJvdXRtZSIsIm5hdlByb2plY3RzIiwibmF2UmV2aWV3cyIsInNjcm9sbE5vd1RvcCIsImlubmVySGVpZ2h0Il0sIm1hcHBpbmdzIjoiQUFpSUEsSUFqSUEsSUFBQUEsV0FBQUMsU0FBQUMsY0FBQSxvQkFBQSxFQUdNQyxJQUFNRixTQUFTQyxjQUFjLE1BQU0sRUFEbkNGLFlBQWFDLFNBQVNDLGlCQUFjLG9CQUFxQixFQUN6REMsWUFBZUQsU0FBQUEsY0FBcUIsMkJBQUEsRUFFcENFLFlBQWNILFNBQVNDLGNBQWMsZ0JBQUEsRUFJckNHLGtCQUFvQkosU0FBU0ssaUJBQWlCLHFCQUFzQixFQUNwRUMsV0FBYU4sU0FBU0MsY0FBYyxh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QVVhLElBQUksMkJBQTJCLEVBRXhEdkMsYUFBYSxHQUFHMEIsVUFBVWEsSUFBSSx1QkFBdUIsRUFFekQsQ0FBQyxFQUVEZ0QsV0FBVyxFQUNYekUsT0FBT0YsaUJBQWlCLFFBQVNLLGVBQWUiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyB6bWllbm5lIGNvbnN0XHJcblxyXG5jb25zdCBidG5OYXZPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZNb2JpbGVfX2J1dHRvblwiKTtcclxuY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZcIik7XHJcbmNvbnN0IG5hdkVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX21lbnUtZWxlbWVudFwiKTtcclxuY29uc3QgYnRuTmF2Q2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdk1vYmlsZV9fYnV0dG9uX19jbG9zZVwiKTtcclxuXHJcbmNvbnN0IHByb2plY3RzQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0c19fYm94XCIpO1xyXG5cclxuY29uc3QgcmV2aWV3c01lbnVBcnJvd3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnJldmlld3NNZW51X19hcnJvd1wiKTtcclxuY29uc3QgcmV2aWV3c0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmV2aWV3c0JveFwiKTtcclxuY29uc3QgcmV3aWV3c01lbnVFbGVtZW50c0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmV2aWV3c01lbnVfX2VsZW1lbnRzXCIpO1xyXG5cclxuY29uc3QgZm9ybUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29udGFjdC1mb3JtX19idXR0b25cIilbMF07XHJcbmNvbnN0IGZvcm1JbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNvbnRhY3QtZm9ybV9faW5wdXRcIik7XHJcbmNvbnN0IGZvcm1BbGVydHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNvbnRhY3QtZm9ybV9fYWxlcnRcIik7XHJcbmNvbnN0IGZvcm1BY2NlcHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhY3QtaW5mb0JveFwiKTtcclxuY29uc3QgZm9ybUFjY2VwdENsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWN0LWluZm9fX2Nsb3NlXCIpO1xyXG5cclxuY29uc3QgZmFxRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZhcS1lbGVtZW50XCIpO1xyXG5jb25zdCBmYXFCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mYXEtZWxlbWVudC1ib3hcIik7XHJcblxyXG5jb25zdCBzZWN0aW9uVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNlY3Rpb25fdGl0bGVcIik7XHJcblxyXG4vLyB0YWJsaWNlXHJcblxyXG5jb25zdCBwcm9qZWN0ID0ge1xyXG4gIGlkOiBbXCIwXCIsIFwiMVwiXSxcclxuICBuYW1lOiBbXCJLYW1pZW5pYXJzdHdvXCIsIFwiV2V0ZXJ5bmFyaWFcIl0sXHJcbiAgaW1nOiBbXCJkaXN0L2ltZy9wYWdlMS5wbmdcIiwgXCJkaXN0L2ltZy9wYWdlMi5wbmdcIl0sXHJcbiAgYWx0OiBbXCJrYW1pZW5pYXJzdHdvIEphY2VrIFNweWNoYWxza2lcIiwgXCJnYWJpbmV0IHdldGVyeW5hcnlqbnkgcGlvbmF2ZXRcIl0sXHJcbiAgbGluazogW1wiaHR0cHM6Ly9rYW1pZW5pYXJzdHdvc3B5Y2hhbHNraS5wbC9cIiwgXCJodHRwczovL3Bpb25hdmV0LnBsL1wiXSxcclxufTtcclxuXHJcbmNvbnN0IHJldmlldyA9IHtcclxuICBpZDogW1wiMFwiLCBcIjFcIiwgXCIzXCIsIFwiNFwiXSxcclxuICBuYW1lOiBbXCJCYXNpYVwiLCBcIkFkYW1cIiwgXCJLYXNpYVwiLCBcIk9sZWtcIl0sXHJcbiAgdGV4dDogW1xyXG4gICAgXCJTdXBlciFcIixcclxuICAgIFwiUG9sZWNhbSFcIixcclxuICAgIFwiYXdrZG5hb2t3bm9hd24gZmF3Zm9pd2FqZmF3ZiBhd2pmaWFvandmb2lqd2EgIGFpd2pmaW9handmb2lqYXdtXCIsXHJcbiAgICBcIldvb29vb29vb29vb29vb3cgbmR3YW5hd2QgaWFpd2pkIHcgd3dpYVwiLFxyXG4gIF0sXHJcbn07XHJcblxyXG4vLyBuYXdpZ2FjamFcclxuXHJcbmNvbnN0IG9wZW5OYXYgPSAoKSA9PiB7XHJcbiAgbmF2LnN0eWxlLnJpZ2h0ID0gMDtcclxufTtcclxuXHJcbmNvbnN0IGNsb3NlTmF2ID0gKCkgPT4ge1xyXG4gIG5hdi5zdHlsZS5yaWdodCA9IFwiLTIwMHB4XCI7XHJcbn07XHJcblxyXG5idG5OYXZPcGVuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuTmF2KTtcclxuYnRuTmF2Q2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlTmF2KTtcclxuXHJcbm5hdkVsZW1lbnRzLmZvckVhY2goKGUpID0+IHtcclxuICBlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gNzY4KSB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGNsb3NlTmF2KCk7XHJcbiAgICAgIH0sIDMwMCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuY29uc3QgY2xpY2tPdXRzaWRlTmF2ID0gKGUpID0+IHtcclxuICBpZiAoXHJcbiAgICBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJuYXZfX21lbnUtZWxlbWVudFwiKSB8fFxyXG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibmF2TW9iaWxlX19idXR0b25fX2Nsb3NlXCIpIHx8XHJcbiAgICBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJuYXZcIikgfHxcclxuICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm5hdk1vYmlsZV9fYnV0dG9uXCIpIHx8XHJcbiAgICBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJuYXZNb2JpbGVfX2J1dHRvbl9fY2xvc2UtZWxlbWVudFwiKSB8fFxyXG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibmF2TW9iaWxlX19idXR0b24tZWxlbWVudFwiKVxyXG4gICkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gNzY4KSB7XHJcbiAgICAgIGNsb3NlTmF2KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gcHJvamVrdHlcclxuXHJcbmNvbnN0IGNyZWF0ZU5ld1Byb2plY3QgPSAocG4pID0+IHtcclxuICBjb25zdCBuZXdBID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XHJcbiAgbmV3QS5jbGFzc0xpc3QuYWRkKFwicHJvamVjdFwiKTtcclxuICBuZXdBLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgcHJvamVjdC5saW5rW3BuXSk7XHJcbiAgbmV3QS5zZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIiwgXCJfYmxhbmtcIik7XHJcblxyXG4gIGNvbnN0IG5ld0ltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgbmV3SW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBwcm9qZWN0LmltZ1twbl0pO1xyXG4gIG5ld0ltZy5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgcHJvamVjdC5hbHRbcG5dKTtcclxuICBuZXdJbWcuY2xhc3NMaXN0LmFkZChcInByb2plY3RfX2ltZ1wiKTtcclxuXHJcbiAgY29uc3QgbmV3VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuICBuZXdUaXRsZS50ZXh0Q29udGVudCA9IHByb2plY3QubmFtZVtwbl07XHJcbiAgbmV3VGl0bGUuY2xhc3NMaXN0LmFkZChcInByb2plY3RfX3RpdGxlXCIpO1xyXG5cclxuICBjb25zdCBuZXdCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIG5ld0J0bi5jbGFzc0xpc3QuYWRkKFwicHJvamVjdF9fYnRuXCIpO1xyXG5cclxuICBjb25zdCBuZXdCdG5fZWxlbWVudDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKTtcclxuICBuZXdCdG5fZWxlbWVudDEuY2xhc3NMaXN0LmFkZChcImZhLXNvbGlkXCIpO1xyXG4gIG5ld0J0bl9lbGVtZW50MS5jbGFzc0xpc3QuYWRkKFwiZmEtYXJyb3ctcmlnaHRcIik7XHJcbiAgbmV3QnRuX2VsZW1lbnQxLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0X19idG4tYXJyb3dcIik7XHJcblxyXG4gIGNvbnN0IG5ld0J0bl9lbGVtZW50MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgbmV3QnRuX2VsZW1lbnQyLmNsYXNzTGlzdC5hZGQoXCJ0cmlhbmdsZV9fcHJvamVjdC1idG5cIik7XHJcblxyXG4gIGNvbnN0IG5ld0J0bl9lbGVtZW50MyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgbmV3QnRuX2VsZW1lbnQzLmNsYXNzTGlzdC5hZGQoXCJ0cmlhbmdsZV9fcHJvamVjdC1idG5fXzJcIik7XHJcblxyXG4gIG5ld0J0bi5hcHBlbmRDaGlsZChuZXdCdG5fZWxlbWVudDEpO1xyXG4gIG5ld0J0bi5hcHBlbmRDaGlsZChuZXdCdG5fZWxlbWVudDIpO1xyXG4gIG5ld0J0bi5hcHBlbmRDaGlsZChuZXdCdG5fZWxlbWVudDMpO1xyXG5cclxuICBuZXdBLmFwcGVuZENoaWxkKG5ld0ltZyk7XHJcbiAgbmV3QS5hcHBlbmRDaGlsZChuZXdUaXRsZSk7XHJcbiAgbmV3QS5hcHBlbmRDaGlsZChuZXdCdG4pO1xyXG5cclxuICBwcm9qZWN0c0JveC5hcHBlbmRDaGlsZChuZXdBKTtcclxufTtcclxuXHJcbmZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdC5pZC5sZW5ndGg7IGkrKykge1xyXG4gIGNyZWF0ZU5ld1Byb2plY3QoaSk7XHJcbn1cclxuXHJcbi8vIG9waW5pZVxyXG5cclxuY29uc3QgY3JlYXRlTmV3UmV2aWV3ID0gKHJuKSA9PiB7XHJcbiAgY29uc3QgbmV3QXJ0aWNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhcnRpY2xlXCIpO1xyXG4gIG5ld0FydGljbGUuY2xhc3NMaXN0LmFkZChcInJldmlld1wiKTtcclxuXHJcbiAgY29uc3QgbmV3TmFtZUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgbmV3TmFtZUJveC5jbGFzc0xpc3QuYWRkKFwicmV2aWV3X19uYW1lLWJveFwiKTtcclxuXHJcbiAgY29uc3QgbmV3TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gIG5ld05hbWUuY2xhc3NMaXN0LmFkZChcInJldmlld19fbmFtZVwiKTtcclxuICBuZXdOYW1lLnRleHRDb250ZW50ID0gcmV2aWV3Lm5hbWVbcm5dO1xyXG5cclxuICBjb25zdCBuZXdUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICBuZXdUZXh0LmNsYXNzTGlzdC5hZGQoXCJyZXZpZXdfX3RleHRcIik7XHJcbiAgbmV3VGV4dC50ZXh0Q29udGVudCA9IHJldmlldy50ZXh0W3JuXTtcclxuXHJcbiAgY29uc3QgbmV3RWxlbWVudE1lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIG5ld0VsZW1lbnRNZW51LmNsYXNzTGlzdC5hZGQoXCJyZXZpZXdzTWVudV9fZWxlbWVudFwiKTtcclxuXHJcbiAgbmV3TmFtZUJveC5hcHBlbmRDaGlsZChuZXdOYW1lKTtcclxuXHJcbiAgbmV3QXJ0aWNsZS5hcHBlbmRDaGlsZChuZXdOYW1lQm94KTtcclxuICBuZXdBcnRpY2xlLmFwcGVuZENoaWxkKG5ld1RleHQpO1xyXG5cclxuICByZXZpZXdzQm94LmFwcGVuZENoaWxkKG5ld0FydGljbGUpO1xyXG5cclxuICByZXdpZXdzTWVudUVsZW1lbnRzQm94LmFwcGVuZENoaWxkKG5ld0VsZW1lbnRNZW51KTtcclxufTtcclxuXHJcbmNvbnN0IHJldmlld3NNZW51ID0gKGUpID0+IHtcclxuICBsZXQgYWN0aXZlRWxlbWVudE5vdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICBcIi5yZXZpZXdzTWVudV9fZWxlbWVudC0tYWN0aXZlXCJcclxuICApLmxlbmd0aDtcclxuICBsZXQgcmV2aWV3QWN0aXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXZpZXctLWFjdGl2ZVwiKTtcclxuICBsZXQgcmV2aWV3TGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmV2aWV3LS1sZWZ0XCIpO1xyXG4gIGxldCByZXZpZXdSaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmV2aWV3LS1yaWdodFwiKTtcclxuXHJcbiAgcmV2aWV3QWN0aXZlLmNsYXNzTGlzdC5yZW1vdmUoXCJyZXZpZXctLWFjdGl2ZVwiKTtcclxuICByZXZpZXdMZWZ0LmNsYXNzTGlzdC5yZW1vdmUoXCJyZXZpZXctLWxlZnRcIik7XHJcbiAgcmV2aWV3UmlnaHQuY2xhc3NMaXN0LnJlbW92ZShcInJldmlldy0tcmlnaHRcIik7XHJcblxyXG4gIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJyZXZpZXdzTWVudV9fYXJyb3dcIikpIHtcclxuICAgIGlmIChBcnJheS5mcm9tKHJldmlld3NNZW51QXJyb3dzKS5pbmRleE9mKGUudGFyZ2V0KSA9PSAwKSB7XHJcbiAgICAgIGlmIChhY3RpdmVFbGVtZW50Tm93ID09IDEpIHtcclxuICAgICAgICByZXZpZXdzTWVudUVsZW1lbnRzLmZvckVhY2goKGUpID0+IHtcclxuICAgICAgICAgIGUuY2xhc3NMaXN0LmFkZChcInJldmlld3NNZW51X19lbGVtZW50LS1hY3RpdmVcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV2aWV3c0xpc3RbcmV2aWV3c0xpc3QubGVuZ3RoIC0gMV0uY2xhc3NMaXN0LmFkZChcInJldmlldy0tYWN0aXZlXCIpO1xyXG4gICAgICAgIHJldmlld3NMaXN0WzBdLmNsYXNzTGlzdC5hZGQoXCJyZXZpZXctLXJpZ2h0XCIpO1xyXG4gICAgICAgIHJldmlld3NMaXN0W3Jldmlld3NMaXN0Lmxlbmd0aCAtIDJdLmNsYXNzTGlzdC5hZGQoXCJyZXZpZXctLWxlZnRcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV2aWV3c01lbnVFbGVtZW50c1thY3RpdmVFbGVtZW50Tm93IC0gMV0uY2xhc3NMaXN0LnJlbW92ZShcclxuICAgICAgICAgIFwicmV2aWV3c01lbnVfX2VsZW1lbnQtLWFjdGl2ZVwiXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXZpZXdzTGlzdFthY3RpdmVFbGVtZW50Tm93IC0gMl0uY2xhc3NMaXN0LmFkZChcInJldmlldy0tYWN0aXZlXCIpO1xyXG4gICAgICAgIHJldmlld3NMaXN0W2FjdGl2ZUVsZW1lbnROb3cgLSAxXS5jbGFzc0xpc3QuYWRkKFwicmV2aWV3LS1yaWdodFwiKTtcclxuICAgICAgICBpZiAoYWN0aXZlRWxlbWVudE5vdyA9PSAyKSB7XHJcbiAgICAgICAgICByZXZpZXdzTGlzdFtyZXZpZXdzTGlzdC5sZW5ndGggLSAxXS5jbGFzc0xpc3QuYWRkKFwicmV2aWV3LS1sZWZ0XCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXZpZXdzTGlzdFthY3RpdmVFbGVtZW50Tm93IC0gM10uY2xhc3NMaXN0LmFkZChcInJldmlldy0tbGVmdFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChhY3RpdmVFbGVtZW50Tm93ID09IHJldmlld3NNZW51RWxlbWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV2aWV3c01lbnVFbGVtZW50cy5mb3JFYWNoKChlKSA9PiB7XHJcbiAgICAgICAgICBlLmNsYXNzTGlzdC5yZW1vdmUoXCJyZXZpZXdzTWVudV9fZWxlbWVudC0tYWN0aXZlXCIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXZpZXdzTWVudUVsZW1lbnRzWzBdLmNsYXNzTGlzdC5hZGQoXCJyZXZpZXdzTWVudV9fZWxlbWVudC0tYWN0aXZlXCIpO1xyXG4gICAgICAgIHJldmlld3NMaXN0WzBdLmNsYXNzTGlzdC5hZGQoXCJyZXZpZXctLWFjdGl2ZVwiKTtcclxuICAgICAgICByZXZpZXdzTGlzdFtyZXZpZXdzTGlzdC5sZW5ndGggLSAxXS5jbGFzc0xpc3QuYWRkKFwicmV2aWV3LS1sZWZ0XCIpO1xyXG4gICAgICAgIHJldmlld3NMaXN0WzFdLmNsYXNzTGlzdC5hZGQoXCJyZXZpZXctLXJpZ2h0XCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldmlld3NNZW51RWxlbWVudHNbYWN0aXZlRWxlbWVudE5vd10uY2xhc3NMaXN0LmFkZChcclxuICAgICAgICAgIFwicmV2aWV3c01lbnVfX2VsZW1lbnQtLWFjdGl2ZVwiXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgcmV2aWV3c0xpc3RbYWN0aXZlRWxlbWVudE5vd10uY2xhc3NMaXN0LmFkZChcInJldmlldy0tYWN0aXZlXCIpO1xyXG4gICAgICAgIHJldmlld3NMaXN0W2FjdGl2ZUVsZW1lbnROb3cgLSAxXS5jbGFzc0xpc3QuYWRkKFwicmV2aWV3LS1sZWZ0XCIpO1xyXG5cclxuICAgICAgICBpZiAoYWN0aXZlRWxlbWVudE5vdyA9PSByZXZpZXdzTWVudUVsZW1lbnRzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgIHJldmlld3NMaXN0WzBdLmNsYXNzTGlzdC5hZGQoXCJyZXZpZXctLXJpZ2h0XCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXZpZXdzTGlzdFthY3RpdmVFbGVtZW50Tm93ICsgMV0uY2xhc3NMaXN0LmFkZChcInJldmlldy0tcmlnaHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IHNlbGVjdGVkRWxlbWVudCA9IEFycmF5LmZyb20ocmV2aWV3c01lbnVFbGVtZW50cykuaW5kZXhPZihlLnRhcmdldCk7XHJcblxyXG4gICAgaWYgKGFjdGl2ZUVsZW1lbnROb3cgLSAxIDwgc2VsZWN0ZWRFbGVtZW50KSB7XHJcbiAgICAgIC8vIHdpxJlrc3plXHJcbiAgICAgIGZvciAobGV0IGkgPSBhY3RpdmVFbGVtZW50Tm93OyBpIDw9IHNlbGVjdGVkRWxlbWVudDsgaSsrKSB7XHJcbiAgICAgICAgcmV2aWV3c01lbnVFbGVtZW50c1tpXS5jbGFzc0xpc3QuYWRkKFwicmV2aWV3c01lbnVfX2VsZW1lbnQtLWFjdGl2ZVwiKTtcclxuICAgICAgfVxyXG4gICAgICByZXZpZXdzTGlzdFtzZWxlY3RlZEVsZW1lbnRdLmNsYXNzTGlzdC5hZGQoXCJyZXZpZXctLWFjdGl2ZVwiKTtcclxuICAgICAgcmV2aWV3c0xpc3Rbc2VsZWN0ZWRFbGVtZW50IC0gMV0uY2xhc3NMaXN0LmFkZChcInJldmlldy0tbGVmdFwiKTtcclxuXHJcbiAgICAgIGlmIChzZWxlY3RlZEVsZW1lbnQgPT0gcmV2aWV3c0xpc3QubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgIHJldmlld3NMaXN0WzBdLmNsYXNzTGlzdC5hZGQoXCJyZXZpZXctLXJpZ2h0XCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldmlld3NMaXN0W3NlbGVjdGVkRWxlbWVudCArIDFdLmNsYXNzTGlzdC5hZGQoXCJyZXZpZXctLXJpZ2h0XCIpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGFjdGl2ZUVsZW1lbnROb3cgLSAxID4gc2VsZWN0ZWRFbGVtZW50KSB7XHJcbiAgICAgIC8vIG1uaWVqc3plXHJcbiAgICAgIGZvciAobGV0IGkgPSBzZWxlY3RlZEVsZW1lbnQgKyAxOyBpIDwgYWN0aXZlRWxlbWVudE5vdzsgaSsrKSB7XHJcbiAgICAgICAgcmV2aWV3c01lbnVFbGVtZW50c1tpXS5jbGFzc0xpc3QucmVtb3ZlKFwicmV2aWV3c01lbnVfX2VsZW1lbnQtLWFjdGl2ZVwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV2aWV3c0xpc3Rbc2VsZWN0ZWRFbGVtZW50XS5jbGFzc0xpc3QuYWRkKFwicmV2aWV3LS1hY3RpdmVcIik7XHJcbiAgICAgIHJldmlld3NMaXN0W3NlbGVjdGVkRWxlbWVudCArIDFdLmNsYXNzTGlzdC5hZGQoXCJyZXZpZXctLXJpZ2h0XCIpO1xyXG5cclxuICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudCA9PSAwKSB7XHJcbiAgICAgICAgcmV2aWV3c0xpc3RbcmV2aWV3c0xpc3QubGVuZ3RoIC0gMV0uY2xhc3NMaXN0LmFkZChcInJldmlldy0tbGVmdFwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXZpZXdzTGlzdFtzZWxlY3RlZEVsZW1lbnQgLSAxXS5jbGFzc0xpc3QuYWRkKFwicmV2aWV3LS1sZWZ0XCIpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXZpZXdBY3RpdmUuY2xhc3NMaXN0LmFkZChcInJldmlldy0tYWN0aXZlXCIpO1xyXG4gICAgICByZXZpZXdMZWZ0LmNsYXNzTGlzdC5hZGQoXCJyZXZpZXctLWxlZnRcIik7XHJcbiAgICAgIHJldmlld1JpZ2h0LmNsYXNzTGlzdC5hZGQoXCJyZXZpZXctLXJpZ2h0XCIpO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbmZvciAobGV0IGkgPSAwOyBpIDwgcmV2aWV3LmlkLmxlbmd0aDsgaSsrKSB7XHJcbiAgY3JlYXRlTmV3UmV2aWV3KGkpO1xyXG59XHJcblxyXG5jb25zdCByZXZpZXdzTWVudUVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yZXZpZXdzTWVudV9fZWxlbWVudFwiKTtcclxuY29uc3QgcmV2aWV3c0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnJldmlld1wiKTtcclxuXHJcbnJldmlld3NMaXN0WzBdLmNsYXNzTGlzdC5hZGQoXCJyZXZpZXctLWFjdGl2ZVwiKTtcclxucmV2aWV3c01lbnVFbGVtZW50c1swXS5jbGFzc0xpc3QuYWRkKFwicmV2aWV3c01lbnVfX2VsZW1lbnQtLWFjdGl2ZVwiKTtcclxucmV2aWV3c0xpc3RbcmV2aWV3c0xpc3QubGVuZ3RoIC0gMV0uY2xhc3NMaXN0LmFkZChcInJldmlldy0tbGVmdFwiKTtcclxucmV2aWV3c0xpc3RbMV0uY2xhc3NMaXN0LmFkZChcInJldmlldy0tcmlnaHRcIik7XHJcblxyXG5yZXZpZXdzTWVudUFycm93cy5mb3JFYWNoKChlKSA9PiB7XHJcbiAgZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcmV2aWV3c01lbnUpO1xyXG59KTtcclxuXHJcbnJldmlld3NNZW51RWxlbWVudHMuZm9yRWFjaCgoZSkgPT4ge1xyXG4gIGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHJldmlld3NNZW51KTtcclxufSk7XHJcblxyXG4vLyBzcHJhd2R6YW5pZSBmb3JtdWxhcnpcclxuXHJcbmNvbnN0IGZvcm1DaGVjayA9IChpbnB1dCkgPT4ge1xyXG4gIGNvbnN0IGlucHV0SWQgPSBBcnJheS5mcm9tKGZvcm1JbnB1dHMpLmluZGV4T2YoaW5wdXQudGFyZ2V0KTtcclxuICBjb25zdCBpbnB1dFRhcmdldCA9IGlucHV0LnRhcmdldDtcclxuXHJcbiAgaW5wdXQudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoKSA9PiB7XHJcbiAgICBpZiAoaW5wdXRUYXJnZXQudmFsdWUgPT0gXCJcIikge1xyXG4gICAgICBmb3JtQWxlcnRzW2lucHV0SWRdLnRleHRDb250ZW50ID0gXCJQb2xlIG5pZSBtb8W8ZSBiecSHIHB1c3RlXCI7XHJcbiAgICAgIGlucHV0VGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJjb250YWN0LWZvcm1fX2lucHV0LS1lcnJvclwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZvcm1BbGVydHNbaW5wdXRJZF0udGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICBpbnB1dFRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwiY29udGFjdC1mb3JtX19pbnB1dC0tZXJyb3JcIik7XHJcblxyXG4gICAgICBpZiAoaW5wdXRJZCA9PSAxKSB7XHJcbiAgICAgICAgY29uc3QgZW1haWxSZWdleCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvO1xyXG5cclxuICAgICAgICBpZiAoZW1haWxSZWdleC50ZXN0KGlucHV0VGFyZ2V0LnZhbHVlKSkge1xyXG4gICAgICAgICAgaW5wdXRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImNvbnRhY3QtZm9ybV9faW5wdXQtLWVycm9yXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBmb3JtQWxlcnRzW2lucHV0SWRdLnRleHRDb250ZW50ID0gXCJXcGlzeiBwb3ByYXdueSBhZHJlcyBlbWFpbFwiO1xyXG4gICAgICAgICAgaW5wdXRUYXJnZXQuY2xhc3NMaXN0LmFkZChcImNvbnRhY3QtZm9ybV9faW5wdXQtLWVycm9yXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChcclxuICAgICAgZm9ybUlucHV0c1swXS52YWx1ZSA9PSBcIlwiIHx8XHJcbiAgICAgIGZvcm1JbnB1dHNbMV0udmFsdWUgPT0gXCJcIiB8fFxyXG4gICAgICBmb3JtSW5wdXRzWzFdLmNsYXNzTGlzdC5jb250YWlucyhcImNvbnRhY3QtZm9ybV9faW5wdXQtLWVycm9yXCIpXHJcbiAgICApIHtcclxuICAgICAgZm9ybUJ0bi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmb3JtQnRuLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5mb3JtSW5wdXRzLmZvckVhY2goKGUpID0+IHtcclxuICBlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmb3JtQ2hlY2spO1xyXG59KTtcclxuXHJcbi8vIEZBUVxyXG5cclxuY29uc3Qgb3BlbkZBUSA9IChidG4pID0+IHtcclxuICBidG5OdW1iZXIgPSBBcnJheS5mcm9tKGZhcUJ1dHRvbnMpLmluZGV4T2YoYnRuLnRhcmdldCk7XHJcblxyXG4gIGlmIChmYXFFbGVtZW50c1tidG5OdW1iZXJdLmNsYXNzTGlzdC5jb250YWlucyhcImZhcS1lbGVtZW50LS1hY3RpdmVcIikpIHtcclxuICAgIGZhcUVsZW1lbnRzW2J0bk51bWJlcl0uY2xhc3NMaXN0LnJlbW92ZShcImZhcS1lbGVtZW50LS1hY3RpdmVcIik7XHJcbiAgfSBlbHNlIHtcclxuICAgIGZhcUVsZW1lbnRzLmZvckVhY2goKGUpID0+IHtcclxuICAgICAgZS5jbGFzc0xpc3QucmVtb3ZlKFwiZmFxLWVsZW1lbnQtLWFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZhcUVsZW1lbnRzW2J0bk51bWJlcl0uY2xhc3NMaXN0LmFkZChcImZhcS1lbGVtZW50LS1hY3RpdmVcIik7XHJcbiAgfVxyXG5cclxuICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgIGZhcUVsZW1lbnRzW2J0bk51bWJlcl0uc2Nyb2xsSW50b1ZpZXcoe1xyXG4gICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIixcclxuICAgICAgYmxvY2s6IFwibmVhcmVzdFwiLFxyXG4gICAgfSk7XHJcbiAgfSwgMzAwKTtcclxufTtcclxuXHJcbmZhcUVsZW1lbnRzLmZvckVhY2goKGUpID0+IHtcclxuICBlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvcGVuRkFRKTtcclxufSk7XHJcblxyXG4vLyBzdMOzcGthIGRhdGFcclxuXHJcbmNvbnN0IGZvb3RlckRhdGUgPSAoKSA9PiB7XHJcbiAgY29uc3QgZm9vdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb290ZXJfX2RhdGFcIik7XHJcblxyXG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcblxyXG4gIGZvb3Rlci50ZXh0Q29udGVudCA9IHllYXI7XHJcbn07XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc3QgZm9ybVRleHRhcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWN0LWZvcm1fX21lc3NhZ2VcIik7XHJcbiAgaWYgKGZvcm1UZXh0YXJlYSkge1xyXG4gICAgZnVuY3Rpb24gYXV0b1Jlc2l6ZSgpIHtcclxuICAgICAgdGhpcy5zdHlsZS5oZWlnaHQgPSBcIjgwcHhcIjtcclxuICAgICAgdGhpcy5zdHlsZS5oZWlnaHQgPSB0aGlzLnNjcm9sbEhlaWdodCArIFwicHhcIjtcclxuICAgIH1cclxuICAgIGZvcm1UZXh0YXJlYS5zdHlsZS5oZWlnaHQgPSBcIjgwcHhcIjtcclxuICAgIGZvcm1UZXh0YXJlYS5zdHlsZS5oZWlnaHQgPSBmb3JtVGV4dGFyZWEuc2Nyb2xsSGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgZm9ybVRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBhdXRvUmVzaXplLCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xyXG4gIGNvbnN0IHN0YXR1cyA9IHVybFBhcmFtcy5nZXQoXCJzdGF0dXNcIik7XHJcblxyXG4gIGlmIChzdGF0dXMgPT0gXCJzdWtjZXNcIikge1xyXG4gICAgZm9ybUFjY2VwdC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cclxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvd1kgPSBcImhpZGRlblwiO1xyXG5cclxuICAgIGNvbnN0IHNjcm9sbFBvc2l0aW9uID0gd2luZG93LnNjcm9sbFk7XHJcbiAgICBmb3JtQWNjZXB0LnN0eWxlLnRvcCA9IGAke3Njcm9sbFBvc2l0aW9ufXB4YDtcclxuXHJcbiAgICBmb3JtQWNjZXB0Q2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgZm9ybUFjY2VwdC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvd1kgPSBcImF1dG9cIjtcclxuICAgIH0pO1xyXG5cclxuICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIFwiXCIsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7XHJcbiAgfVxyXG5cclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlYWRlclwiKS5zdHlsZS5tYXJnaW5Ub3AgPSBgJHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2Qm94XCIpLm9mZnNldEhlaWdodFxyXG4gIH1weGA7XHJcbn0pO1xyXG5cclxuLy8gbmF3aWdhY2phIGRhbGVqXHJcblxyXG5jb25zdCBuYXZTdGFydCA9IGRvY3VtZW50XHJcbiAgLmdldEVsZW1lbnRCeUlkKFwic2tpbGxzXCIpXHJcbiAgLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcclxuY29uc3QgbmF2QWJvdXRtZSA9IGRvY3VtZW50XHJcbiAgLmdldEVsZW1lbnRCeUlkKFwiYWJvdXRtZVwiKVxyXG4gIC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207XHJcbmNvbnN0IG5hdlByb2plY3RzID0gZG9jdW1lbnRcclxuICAuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0c1wiKVxyXG4gIC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207XHJcbmNvbnN0IG5hdlJldmlld3MgPSBkb2N1bWVudFxyXG4gIC5nZXRFbGVtZW50QnlJZChcInJldmlld3NcIilcclxuICAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tO1xyXG5jb25zdCBuYXZDb250YWN0ID0gZG9jdW1lbnRcclxuICAuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWN0XCIpXHJcbiAgLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgZnVuY3Rpb24gKCkge1xyXG4gIGxldCBzY3JvbGxOb3dUb3AgPSB3aW5kb3cuc2Nyb2xsWTtcclxuICBsZXQgc2Nyb2xsTm93Qm90dG9tID0gd2luZG93LnNjcm9sbFkgKyB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgbGV0IHNjcm9sbE5vd01pZGRsZSA9IChzY3JvbGxOb3dCb3R0b20gKyBzY3JvbGxOb3dUb3ApIC8gMjtcclxuXHJcbiAgaWYgKHNjcm9sbE5vd01pZGRsZSA8IG5hdlN0YXJ0KSB7XHJcbiAgICBuYXZFbGVtZW50c1swXS5jbGFzc0xpc3QuYWRkKFwibmF2X19tZW51LWVsZW1lbnRfX2FjdGl2ZVwiKTtcclxuICAgIG5hdkVsZW1lbnRzWzFdLmNsYXNzTGlzdC5yZW1vdmUoXCJuYXZfX21lbnUtZWxlbWVudF9fYWN0aXZlXCIpO1xyXG4gIH0gZWxzZSBpZiAoc2Nyb2xsTm93TWlkZGxlID4gbmF2U3RhcnQgJiYgc2Nyb2xsTm93TWlkZGxlIDw9IG5hdkFib3V0bWUpIHtcclxuICAgIG5hdkVsZW1lbnRzWzBdLmNsYXNzTGlzdC5yZW1vdmUoXCJuYXZfX21lbnUtZWxlbWVudF9fYWN0aXZlXCIpO1xyXG4gICAgbmF2RWxlbWVudHNbMV0uY2xhc3NMaXN0LmFkZChcIm5hdl9fbWVudS1lbGVtZW50X19hY3RpdmVcIik7XHJcbiAgICBuYXZFbGVtZW50c1syXS5jbGFzc0xpc3QucmVtb3ZlKFwibmF2X19tZW51LWVsZW1lbnRfX2FjdGl2ZVwiKTtcclxuXHJcbiAgICBzZWN0aW9uVGl0bGVbMF0uY2xhc3NMaXN0LmFkZChcInNlY3Rpb25fdGl0bGUtLWFjdGl2ZVwiKTtcclxuICB9IGVsc2UgaWYgKHNjcm9sbE5vd01pZGRsZSA+IG5hdkFib3V0bWUgJiYgc2Nyb2xsTm93TWlkZGxlIDw9IG5hdlByb2plY3RzKSB7XHJcbiAgICBuYXZFbGVtZW50c1sxXS5jbGFzc0xpc3QucmVtb3ZlKFwibmF2X19tZW51LWVsZW1lbnRfX2FjdGl2ZVwiKTtcclxuICAgIG5hdkVsZW1lbnRzWzJdLmNsYXNzTGlzdC5hZGQoXCJuYXZfX21lbnUtZWxlbWVudF9fYWN0aXZlXCIpO1xyXG4gICAgbmF2RWxlbWVudHNbM10uY2xhc3NMaXN0LnJlbW92ZShcIm5hdl9fbWVudS1lbGVtZW50X19hY3RpdmVcIik7XHJcblxyXG4gICAgc2VjdGlvblRpdGxlWzFdLmNsYXNzTGlzdC5hZGQoXCJzZWN0aW9uX3RpdGxlLS1hY3RpdmVcIik7XHJcbiAgfSBlbHNlIGlmIChzY3JvbGxOb3dNaWRkbGUgPiBuYXZQcm9qZWN0cyAmJiBzY3JvbGxOb3dNaWRkbGUgPD0gbmF2UmV2aWV3cykge1xyXG4gICAgbmF2RWxlbWVudHNbMl0uY2xhc3NMaXN0LnJlbW92ZShcIm5hdl9fbWVudS1lbGVtZW50X19hY3RpdmVcIik7XHJcbiAgICBuYXZFbGVtZW50c1szXS5jbGFzc0xpc3QuYWRkKFwibmF2X19tZW51LWVsZW1lbnRfX2FjdGl2ZVwiKTtcclxuICAgIG5hdkVsZW1lbnRzWzRdLmNsYXNzTGlzdC5yZW1vdmUoXCJuYXZfX21lbnUtZWxlbWVudF9fYWN0aXZlXCIpO1xyXG5cclxuICAgIHNlY3Rpb25UaXRsZVsyXS5jbGFzc0xpc3QuYWRkKFwic2VjdGlvbl90aXRsZS0tYWN0aXZlXCIpO1xyXG4gIH0gZWxzZSBpZiAoc2Nyb2xsTm93TWlkZGxlID4gbmF2UmV2aWV3cyAmJiBzY3JvbGxOb3dNaWRkbGUgPD0gbmF2Q29udGFjdCkge1xyXG4gICAgbmF2RWxlbWVudHNbM10uY2xhc3NMaXN0LnJlbW92ZShcIm5hdl9fbWVudS1lbGVtZW50X19hY3RpdmVcIik7XHJcbiAgICBuYXZFbGVtZW50c1s0XS5jbGFzc0xpc3QuYWRkKFwibmF2X19tZW51LWVsZW1lbnRfX2FjdGl2ZVwiKTtcclxuXHJcbiAgICBzZWN0aW9uVGl0bGVbM10uY2xhc3NMaXN0LmFkZChcInNlY3Rpb25fdGl0bGUtLWFjdGl2ZVwiKTtcclxuICB9XHJcbn0pO1xyXG5cclxuZm9vdGVyRGF0ZSgpO1xyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrT3V0c2lkZU5hdik7XHJcbiJdfQ==
